<!DOCTYPE html>
<html>

<head>
	<!-- Basic -->
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<!-- Mobile Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<!-- Site Metas -->
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta name="author" content="" />

	<title>Water Monitoring System</title>

	<!-- bootstrap core css -->
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

	<!-- fonts style -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,600,700&display=swap"
		rel="stylesheet" />
	<!-- nice select -->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
		integrity="sha256-mLBIhmBvigTFWPSCtvdu6a76T+3Xyt+K571hupeFLg4=" crossorigin="anonymous" />
	<!-- datepicker -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
	<!-- Custom styles for this template -->
	<link href="css/style.css" rel="stylesheet" />
	<!-- responsive style -->
	<link href="css/responsive.css" rel="stylesheet" />
	<link rel="stylesheet" href="main.css">
	<script src="pureknob.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script type="text/javascript">
		// <![CDATA[

		/*
		 * Demo code for knob element.
		 */
		function demoKnob1() {
			// Create knob element, 300 x 300 px in size.
			const knob = pureknob.createKnob(300, 300);

			// Set properties.
			knob.setProperty('angleStart', -0.75 * Math.PI);
			knob.setProperty('angleEnd', 0.75 * Math.PI);
			knob.setProperty('colorFG', '#00d1f9');
			knob.setProperty('trackWidth', 0.4);
			knob.setProperty('valMin', 0);
			knob.setProperty('valMax', 4000);
			// knob.setProperty('format', function (value) {
			// 	return parseFloat(value / 10).toFixed(1);
			// });
			function getData1() {
				var api_key = "3KVO07AK8FYSIW8Q";
				var url = "https://api.thingspeak.com/channels/2090500/fields/1/last.json?api_key=" + api_key;

				$.getJSON(url, function (data) {
					var turbidity = data.field1;
					// $("temp").html(turbidity);
					// var mappedValue = Math.floor((turbidity / 10) * 1000);
					// var dt = mappedValue.toString()

					knob.setValue(turbidity);
					turStatus=document.getElementById("turStatus")
					if(turbidity <=500)
					{
						turStatus.innerHTML = "Water is safe to drink ";
						turStatus.style.color="green";
					}
					if(turbidity >500)
					{
						turStatus.innerHTML = "Water is not safe to drink ";
						turStatus.style.color="red";
					}
				});
			}


			setInterval(getData1, 1000)

			// Set initial value.
			const listener = function (knob, value) {
				console.log(value);
			};

			knob.addListener(listener);

			// Create element node.
			const node = knob.node();

			// Add it to the DOM.
			const elem = document.getElementById('temp');
			elem.appendChild(node);
		}

		function ready() {
			/*setInterval("showTime()", 1000);*/
			demoKnob1();
		}

		document.addEventListener('DOMContentLoaded', ready, false);
			// ]]>
	</script>
</head>

<body class="sub_page">
	<div class="hero_area">
		<!-- header section strats -->
		<header class="header_section">
			<div class="container-fluid">
				<nav class="navbar navbar-expand-lg custom_nav-container ">
					<a class="navbar-brand" href="index.html">
						<h3 style="font-size: 20px;">
							Water Monitoring System
						</h3>
					</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse"
						data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse ml-auto" id="navbarSupportedContent">
						<ul class="navbar-nav  ml-auto">
							<li class="nav-item ">
								<a class="nav-link" href="index.html">Home </a>
							</li>
							<li class="nav-item active">
								<a class="nav-link" href="about.html "> Monitor <span class="sr-only">(current)</span>
								</a>
							</li>
						</ul>
					</div>
				</nav>
			</div>
		</header>
		<!-- end header section -->
	</div>

	<!-- about section -->
	<section class="about_section layout_padding">
		<div class="container">
			<div class="heading_container heading_center">
				<h2>
					<span class="design_dot"></span>
					Summary of Monitoring
				</h2>
			</div>

		</div>
		<div class="main1">
			<div class="main2" id="temp">
				<div style="display: flex; align-items: center;justify-content: center;">
					<div style="margin-top: -15px;">
						<img src="https://thumbs.dreamstime.com/b/degree-water-line-icon-temperature-vector-filled-flat-sign-mobile-concept-web-design-wash-machine-glyph-laundry-symbol-144876711.jpg" width="40px" height="40px" />
					</div>
					<p style="font-size: 20px; text-align: center; padding: 20px;font-weight: bold;">Turbidity in NTU</p>
				</div>
			</div>
		</div>
		<br/>
		<br/>
		<br/>
		<div class="container">
			<div class="heading_container heading_center">
				<h2>
					<span class="design_dot"></span>
					Inference of Monitoring
				</h2>
			</div>

		</div>

		<div class="main1">
			<div class="main2">
				<h4 id="turStatus" style="font-weight: 900;"></h4>
			</div>
		</div>


		
	</section>

	<!-- end about section -->


	<!-- footer section -->
	<footer class="container-fluid footer_section">
		<div class="container">
			<p>
				D15B Batch B : Group 4
			</p>
		</div>
	</footer>
	<!-- footer section -->

	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
	<!-- nice select -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"
		integrity="sha256-Zr3vByTlMGQhvMfgkQ5BtWRSKBGa2QlspKYJnkjZTmo=" crossorigin="anonymous"></script>
	<!-- datepicker -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
	<!-- custom js -->
	<script src="js/custom.js"></script>
	<!-- Google Map -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap">
	</script>
	<!-- End Google Map -->
</body>

</html>
